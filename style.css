/* === UI/UX IMPROVEMENT: Modernized Design System === */
:root {
    /* Color Palette */
    --primary-color-dark: #0d3d6e;
    --primary-color: #1a5a99;
    --primary-color-light: #2c79c9;
    --accent-color: #007bff;
    --accent-color-hover: #0069d9;
    --background-color: #f8f9fa;
    --card-bg-color: #ffffff;
    --text-color-dark: #212529;
    --text-color-light: #6c757d;
    --text-color-white: #f8f9fa;
    --border-color: #e9ecef;
    --success-color: #28a745;
    --warning-color: #ffc107;
    --danger-color: #dc3545;
    --info-color: #17a2b8;

    /* Layout & Sizing */
    --sidebar-width: 260px;
    --header-height: 70px;
    --border-radius: 12px;
    --card-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    
    /* Transitions */
    --transition-speed: 0.3s ease;
}

/* === Global Styles === */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { background-color: var(--background-color); color: var(--text-color-dark); font-family: 'Poppins', sans-serif; line-height: 1.6; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* === Main Layout === */
.app-container { display: flex; min-height: 100vh; }
.main-wrapper { flex-grow: 1; display: flex; flex-direction: column; margin-left: var(--sidebar-width); transition: margin-left var(--transition-speed); }

/* === Sidebar === */
.sidebar { width: var(--sidebar-width); background: linear-gradient(180deg, var(--primary-color-dark), var(--primary-color)); color: var(--text-color-white); position: fixed; top: 0; left: 0; height: 100%; display: flex; flex-direction: column; z-index: 1000; transition: transform var(--transition-speed); }
.sidebar-header { display: flex; align-items: center; padding: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
.logo { width: 45px; height: 45px; margin-right: 15px; }
.logo-text { font-size: 1.25rem; font-weight: 600; }
.sidebar-menu { list-style-type: none; flex-grow: 1; padding-top: 15px; }
.sidebar-menu a { display: flex; align-items: center; color: #e0e0e0; text-decoration: none; padding: 16px 20px; margin: 4px 10px; border-radius: 8px; transition: all 0.2s ease-in-out; font-size: 1rem; font-weight: 500; }
.sidebar-menu a i { margin-right: 15px; width: 20px; text-align: center; }
.sidebar-menu a:hover { background: rgba(255, 255, 255, 0.1); color: #fff; transform: translateX(5px); }
.sidebar-menu a.active { background: var(--accent-color); color: #fff; font-weight: 600; }
.sidebar-footer { padding: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
.sidebar-footer a { text-decoration: none; color: #e0e0e0; display: flex; align-items: center; }

/* === Header === */
.header { height: var(--header-height); background: var(--card-bg-color); display: flex; justify-content: space-between; align-items: center; padding: 0 30px; border-bottom: 1px solid var(--border-color); }
.menu-toggle { display: none; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--primary-color-dark); }
.user-info { text-align: right; }
.user-name { display: block; font-weight: 600; }
.user-campus { display: block; font-size: 0.85rem; color: var(--text-color-light); }

/* === Main Content & Cards === */
.main-content { flex-grow: 1; padding: 30px; overflow-y: auto; background: linear-gradient(180deg, #fdfdff 0%, var(--background-color) 100%); }
.page-content { opacity: 0; animation: fadeIn 0.5s forwards; }
@keyframes fadeIn { to { opacity: 1; } }
.page-header { margin-bottom: 25px; }
.page-header h1 { font-size: 2rem; font-weight: 700; margin-bottom: 5px; }
.page-header p { color: var(--text-color-light); font-size: 1rem; }
.card { background: var(--card-bg-color); padding: 30px; border-radius: var(--border-radius); box-shadow: var(--card-shadow); margin-bottom: 30px; }

/* === Generic Components (Tables, Forms, Buttons, etc.) === */
.table-container { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; }
th, td { padding: 15px; text-align: left; border-bottom: 1px solid var(--border-color); vertical-align: middle; }
thead th { background-color: var(--background-color); font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;}
tbody tr { transition: background-color 0.2s; }
tbody tr:hover { background-color: #f1f3f5; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 8px; font-weight: 500; }
.form-group input, .form-group select { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem; transition: border-color 0.2s, box-shadow 0.2s; }
.form-group input:focus, .form-group select:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15); }
.form-group input[readonly] { background-color: #f8f9fa; cursor: not-allowed; }
.btn { padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 500; transition: all 0.2s; display: inline-flex; align-items: center; justify-content: center; gap: 8px; }
.btn:disabled { background-color: var(--border-color); cursor: not-allowed; }
.btn-primary { background: var(--accent-color); color: #fff; }
.btn-primary:hover:not(:disabled) { background: var(--accent-color-hover); transform: translateY(-2px); }
.btn-secondary { background: #e9ecef; color: #343a40; }
.btn-secondary:hover:not(:disabled) { background: #d3d9df; }
.btn-success { background-color: var(--success-color); color: white; }
.btn-danger { background-color: var(--danger-color); color: white; }
.badge { padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
.badge-success { background-color: #eaf7f0; color: var(--success-color); }
.badge-danger { background-color: #fbe9e7; color: var(--danger-color); }
.badge-warning { background-color: #fff8e1; color: var(--warning-color); }
.two-column-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
.flex-between { display: flex; justify-content: space-between; align-items: center; }

/* === PAGE-SPECIFIC ENHANCEMENTS === */

/* --- Dashboard --- */
.dashboard-greeting h1 { font-size: 2.5rem; font-weight: 700; line-height: 1.2; }
.dashboard-greeting .date-subtitle { font-size: 1.1rem; color: var(--text-color-light); font-weight: 400; }
.dashboard-layout { display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-top: 30px; }
.hero-card { background: linear-gradient(135deg, var(--primary-color-dark) 0%, var(--primary-color) 100%); color: var(--text-color-white); padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(13, 61, 110, 0.3); display: flex; flex-direction: column; justify-content: space-between; min-height: 300px; }
.hero-card .hero-header { font-size: 1rem; font-weight: 500; text-transform: uppercase; letter-spacing: 1px; opacity: 0.7; }
.hero-card .hero-main-content .subject-title { font-size: 2.2rem; font-weight: 600; margin: 10px 0; }
.hero-card .hero-main-content .subject-details { display: flex; gap: 25px; font-size: 1.1rem; opacity: 0.9; }
.hero-card .hero-main-content .subject-details i { margin-right: 8px; }
.hero-card .hero-footer .countdown { font-size: 2.5rem; font-weight: 600; text-align: right; }
.hero-card .hero-footer .countdown span { font-size: 1rem; font-weight: 400; opacity: 0.7; }
.info-column { display: flex; flex-direction: column; gap: 30px; }
.info-card { background: var(--card-bg-color); padding: 25px; border-radius: var(--border-radius); box-shadow: var(--card-shadow); }
.info-card h3 { display: flex; align-items: center; font-size: 1rem; font-weight: 600; color: var(--text-color-dark); margin-bottom: 20px; }
.info-card h3 i { margin-right: 12px; color: var(--accent-color); font-size: 1.2rem; }
.financial-summary .balance { font-size: 2rem; font-weight: 600; color: var(--primary-color-dark); }
.financial-summary .balance-label { font-size: 0.9rem; color: var(--text-color-light); }
.progress-bar-container { width: 100%; height: 8px; background-color: #e9ecef; border-radius: 4px; margin: 10px 0; overflow: hidden; }
.progress-bar { height: 100%; background-color: var(--success-color); border-radius: 4px; }
.academic-activity .grade-highlight { font-size: 2rem; font-weight: 600; color: var(--primary-color-dark); }
.announcements-list { list-style-type: none; padding-left: 0; }
.announcements-list li { padding: 15px 0; border-bottom: 1px solid var(--border-color); }
.announcements-list li:last-child { border-bottom: none; }
.announcements-list li .announcement-date { display: block; font-size: 0.8rem; color: var(--text-color-light); margin-bottom: 4px; }

/* --- Section Offering --- */
.offering-layout { display: grid; grid-template-columns: 3fr 1fr; gap: 30px; align-items: start; }
.search-filters { display: flex; gap: 15px; margin-bottom: 20px; align-items: flex-end; }
.search-filters .form-group { flex-grow: 1; margin-bottom: 0; }
.selected-subjects-card { position: sticky; top: 30px; }
.selected-subjects-card .subject-item { padding: 10px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; transition: background-color 0.2s; }
.selected-subjects-card .subject-item:hover { background-color: #fafafa; }
.selected-subjects-card .subject-item:last-child { border-bottom: none; }
.selected-subjects-card .subject-item button { background: none; border: none; color: var(--danger-color); cursor: pointer; font-size: 1rem; opacity: 0.5; transition: opacity 0.2s; }
.selected-subjects-card .subject-item:hover button { opacity: 1; }

/* --- Registration Stepper --- */
.stepper { display: flex; justify-content: space-between; margin-bottom: 30px; position: relative; }
.stepper::before { content: ''; position: absolute; top: 15px; left: 0; width: 100%; height: 2px; background: var(--border-color); z-index: 1; }
.step { display: flex; flex-direction: column; align-items: center; text-align: center; z-index: 2; background-color: var(--card-bg-color); padding: 0 15px; }
.step-number { width: 30px; height: 30px; border-radius: 50%; background: var(--border-color); color: var(--text-color-light); display: flex; align-items: center; justify-content: center; font-weight: 600; margin-bottom: 5px; transition: all var(--transition-speed); }
.step-title { font-weight: 500; font-size: 0.9rem; }
.step.active .step-number { background: var(--accent-color); color: white; }
.step.completed .step-number { background: var(--success-color); color: white; }

/* --- Schedule Calendar --- */
.schedule-grid { display: grid; grid-template-columns: 80px repeat(7, 1fr); grid-auto-rows: 30px; } /* 30px rows for 30min increments */
.schedule-grid .day-header, .schedule-grid .time-label { text-align: center; font-weight: 600; font-size: 0.9rem; color: var(--text-color-light); padding: 10px 0; }
.schedule-grid .time-label { grid-column: 1; display: flex; align-items: flex-start; justify-content: center; transform: translateY(-50%); }
.schedule-grid .time-slot { border-top: 1px dashed var(--border-color); }
.class-block { grid-column-start: var(--grid-col-start); grid-row: var(--grid-row-start) / var(--grid-row-end); background-color: var(--class-color, var(--primary-color-light)); color: white; border-radius: 8px; margin: 2px 5px; padding: 10px; font-size: 0.8rem; overflow: hidden; transition: all 0.2s; }
.class-block:hover { transform: scale(1.02); box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 10; }
.class-block strong { display: block; }

/* --- Profile Page --- */
.profile-header { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; }
.profile-avatar { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid white; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
.profile-info h2 { margin: 0; }
.profile-info p { margin: 0; color: var(--text-color-light); }

/* --- Grades Page --- */
.grades-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
.summary-card { text-align: center; }
.summary-card .value { font-size: 2.5rem; font-weight: 700; color: var(--primary-color-dark); }
.summary-card .label { font-size: 1rem; color: var(--text-color-light); }
.grade-term-header { cursor: pointer; padding: 15px; margin: -30px -30px 15px -30px; transition: background-color 0.2s; }
.grade-term-header:hover { background-color: #fafafa; }
.grade-term-header i { transition: transform 0.3s; }
.grade-term-header.collapsed i { transform: rotate(-90deg); }

/* --- Account Page --- */
.account-summary-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center; }
.account-summary-grid .value { font-size: 1.8rem; font-weight: 600; }
.account-summary-grid .value.balance { color: var(--danger-color); }
.account-summary-grid .label { color: var(--text-color-light); }

/* --- Calendar Page --- */
.academic-calendar-layout { display: grid; grid-template-columns: 2fr 1fr; gap: 30px; align-items: start; }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); }
.calendar-day-name { text-align: center; font-weight: 600; color: var(--text-color-light); padding: 10px 0; }
.calendar-day { min-height: 100px; border-top: 1px solid var(--border-color); border-left: 1px solid var(--border-color); padding: 8px; font-weight: 500; transition: background-color 0.2s; }
.calendar-day:nth-child(7n+1) { border-left: none; }
.calendar-day.other-month { background-color: #fafafa; color: #ccc; }
.calendar-day.today .day-number { background-color: var(--accent-color); color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: 700; }
.event-marker { padding: 3px 6px; font-size: 0.75rem; border-radius: 4px; color: white; margin-top: 5px; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.event-marker.exam { background-color: var(--danger-color); }
.event-marker.holiday { background-color: var(--success-color); }
.event-marker.enrollment { background-color: var(--info-color); }
.upcoming-events-list { position: sticky; top: 30px; }
.upcoming-events-list h3 { margin-bottom: 15px; }
.event-item { margin-bottom: 10px; }
.event-item .date { font-weight: 600; }

/* --- Loader & Responsive --- */
.loader-container { display: flex; justify-content: center; align-items: center; min-height: 400px; }
.loader { width: 50px; height: 50px; border: 5px solid var(--border-color); border-top: 5px solid var(--accent-color); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { 100% { transform: rotate(360deg); } }
.hidden { display: none; }
@media (max-width: 992px) {
    .main-wrapper { margin-left: 0; }
    .sidebar { transform: translateX(-100%); }
    .sidebar.show { transform: translateX(0); box-shadow: 0 0 40px rgba(0,0,0,0.2); }
    .menu-toggle { display: block; }
    .sidebar-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; opacity: 0; visibility: hidden; transition: opacity var(--transition-speed), visibility var(--transition-speed); }
    .sidebar-backdrop.show { opacity: 1; visibility: visible; }
    .dashboard-layout, .offering-layout, .two-column-layout, .academic-calendar-layout { grid-template-columns: 1fr; }
}
@media (max-width: 576px) {
    .header, .main-content { padding: 15px; }
    .page-header h1, .dashboard-greeting h1 { font-size: 1.8rem; }
    .user-name { display: none; }
    .search-filters { flex-direction: column; align-items: stretch; }
}